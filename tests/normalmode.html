<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Artyom.js Normal mode (1 command)</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="../src/artyom.min.js"></script>
    </head>
    <body>
        <div>
            <ul>
                <li>Remember that you need to run this example in a server (file:// is not allowed, if you use localhost, the ip must be different of 127.0.0.1)</li>
                <li>This example is very ugly, but shows the basic functionality of artyom in english language</li>
            </ul>
        </div>
        <div>
            Recognizing : <br>
            <input type="button" value="Start artyom" onclick="startArtyom();"/>
            <input type="button" value="Start artyom" onclick="stopArtyom();"/><br>
        </div>
        <hr>
        <div>
            Speech synthesis : <br>
            <input type="text" id="speech-content" value="This text will be spoken"/>
            <input type="button" value="Speak" onclick="talk();"/>
            <input type="button" value="Stop speak" onclick="stopTalk();"/>
        </div>
        <div>
            <span id="output"></span>
            <div id="errors" style="color:red;">
                
            </div>
        </div>
        <script>
            function startArtyom(){
                artyom.initialize({
                    lang:'en-GB',
                    debug:true,
                    continuous:false,
                    listen:true
                });
            }
            
            function stopArtyom(){
                artyom.fatality();
            }
            
            function talk(){
                var text = document.getElementById("speech-content").value;
                artyom.say(text);
            }
            
            function stopTalk(){
                artyom.shutUp();
            }
            // Set artyom settings
            
            artyom.redirectRecognizedTextOutput(function(recognized,isFinal){
                if(isFinal){
                    document.getElementById('span').innerHTML = '';Nothing
                }else{
                    document.getElementById('span').innerHTML = recognized;//Content
                }
            });
            
            window.onload = function(){
                var queso = artyom.detectErrors(function(a){
                    var actual = document.getElementById('errors').innerHTML;
                    document.getElementById('errors').innerHTML = actual+a.toString();
                    console.log(a);
                });
                
                if(queso != 'undefined'){
                    var actual = document.getElementById('errors').innerHTML;
                    document.getElementById('errors').innerHTML = actual+ JSON.stringify(queso);
                }
            };
        </script>
    </body>
</html>
